###  REPRODUCING THE BUG ###

1. Use wget {ftp://ftp.gnu.org/gnu/coreutils/coreutils-7.6.tar.gz}
   to grab the Coreutils tar file.

2. Unzip the file using tar â€“xzvf coreutils-7.6.tar.gz

3. Read INSTALL to figure out how to run ./configure with proper
   --prefix option so that coreutils will not be installed in
   usr/local/bin (otherwise permission declined)

4. Run ./configure --prefix="$PWD/coreutilsInstall"

5. Run make

6. Run make install

7. Change the locale: export LC_ALL='en_US.UTF-8'

8. Compare the results between
   ls -l /bin/bash
   -rwxr-xr-x 1 root root 941720 Aug 17 03:49 /bin/bash   
   ./bin/ls -l /bin/bash
   -rwxr-xr-x 1 root root 941720 2015-08-17 03:49 /bin/bash

### APPLYING THE PATCH ###

1. Go to coreutils-7.6

2. Copy the patch from web and save to brady.patch
   (Encountered some problems using emacs, it was solved by Vim)

3. patch -p1 < brady.patch
   p1: Strip  the  smallest  prefix  containing 1 leading slashes
   from each file name found in the patch file.

4. make

5. ./src/ls -l /bin/bash
   -rwxr-xr-x 1 root root 941720 Aug 17 03:49 /bin/bash

6. make a test directory
   mkdir ~/test

7. create a new file and an 'old' file
   touch ~/test/newfile.txt
   touch -t 9909090909 ~/test/oldfile.txt

8. Check using the newly made ls
   ./src/ls -l ~/test
   -rw-r--r-- 1 classuhu class 0 Jan 22 22:00 newfile.txt
   -rw-r--r-- 1 classuhu class 0 Sep  9  1999 oldfile.txt

### QUESTIONS ###

Q1: This case and the previous line "case long_iso_time_style:"
    used to yield same result as there is no "breas" in between.
    
    In the second hunk, these lines were deleted:
    ...

    if (locale_format == long_time_format[i])
        goto case_long_iso_time_style;
    ...

    Since the case where "case_long_iso_time_style" gets to called
    is removed, the case is now unnecessary.
     

Q2: To have a thorough understanding of this function,
    I looked into the patched file and go to line 2029
    (emacs ./src/ls.c , M-g g 2029)
    The following lines were shown:
    
        /* Ensure that the locale has translations for both
           formats.  If not, fall back on long-iso format.  */
	int i;
        for (i = 0; i < 2; i++)
          long_time_format[i] =
            dcgettext (NULL, long_time_format[i], LC_TIME);
	...

    Therefore if my LC_TIME adopts non-English-format dates and
    my locale does not have proper translation for both formats,
    it will fall back on long-iso format(i.e. "%Y-%m-%d %H:%M")
    However, this may conflict with countries using other format,
    (e.g Month-Day-Year)


